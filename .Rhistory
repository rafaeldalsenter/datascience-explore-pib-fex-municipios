# Configurando o diretório de trabalho
# Coloque entre aspas o diretório de trabalho que você está usando no seu computador
# Não use diretórios com espaço no nome
setwd("C:/Users/rdals/source/repos/datascience-cap-5")
getwd()
# Usando as funções base do R (pacote utils)
search()
# Importando arquivo com read.table()
?read.table
df1 <- read.table("pedidos.txt")
df1
dim(df1)
df1 <- read.table("pedidos.txt", header = TRUE, sep = ',')
df1
dim(df1)
df1 <- read.table("pedidos.txt", header = TRUE, sep = ',',
col.names = c("var1", "var2", "var3"))
df1
df1 <- read.table("pedidos.txt", header = TRUE,
sep = ',',
col.names = c("var1", "var2", "var3"),
na.strings = c('Zico', 'Maradona'))
df1
# Importando arquivo com read.csv()
df2 <- read.csv("pedidos.txt")
df2
dim(df2)
df3 <- read.csv2("pedidos.txt")
df3
dim(df3)
df3 <- read.csv2("pedidos.txt", sep = ',')
df3
dim(df3)
# Instalando os pacotes
install.packages('rJava')
install.packages("xlsx")
# Criando a conexão
help("mongo.create")
# RMongoDB
# Instalação do Pacote
install.packages("devtools")
library("devtools")
install_github("mongosoup/rmongodb", force = TRUE)
library(rmongodb)
mongo <- mongo.create()
mongo
# Checando a conexão
mongo.is.connected(mongo)
if(mongo.is.connected(mongo) == TRUE) {
mongo.get.databases(mongo)
}
conexao_com_banco <- function () {
return (mongo.is.connected(mongo));
}
conexao_com_banco()
mongo.count(mongo, "data-gov")
mongo.count(mongo, "data-gov.FEX_2004_2016_municipio")
# Armazenando o nome de uma das coleções
coll <- "data-gov.FEX_2004_2016_municipio"
mongo.count(mongo, "data-gov.FEX_2004_2016_municipio")
# Buscando um registro em uma coleção
mongo.find.one(mongo, coll)
# Obtendo um vetor de valores distintos das chaves de uma coleção
res <- mongo.distinct(mongo, coll, "city")
# Obtendo um vetor de valores distintos das chaves de uma coleção
res <- mongo.distinct(mongo, coll, "2004")
head(res)
mongo.find.all(mongo, coll)
mongo <- mongo.create()
mongo
class(mongo)
dim(mongo)
type(mongo)
dados_collection_pib <- function(){
return (mongo.find.all(mongo, collection_pib));
}
dados_collection_pib()
dados_collection_pib()
install.packages("devtools")
library("devtools")
install_github("mongosoup/rmongodb", force = TRUE)
library(rmongodb)
installed.packages()
if("devtools" %in% installed.packages()){
}
if("devtools" %in% installed.packages() == FALSE){
install.packages("devtools")
}
"devtools" %in% installed.packages()
rm(list = ls())
source("conexao_mongodb.R")
# Importação e limpeza dos dados da base
Sys.setlocale("LC_ALL", "pt_BR.UTF-8")
source("conexao_mongodb.R")
source("scripts/conexao_mongodb.R")
dados_collection_pib();
dados_pib_brutos = dados_collection_pib();
head(dados_pib_brutos)
class(dados_pib_brutos)
dados_pib_brutos$_id
dados_pib_brutos$ano2015
names(dados_pib_brutos)
lenght(dados_pib_brutos)
length(dados_pib_brutos)
head(dados_pib_brutos)
dados_pib_brutos[0]
dados_pib_brutos[0]$ano2015
dados_pib_brutos[0]
dados_pib_brutos[1]
dados_pib_brutos[1]$ano2015
dados_pib_brutos[1][1]
dados_pib_brutos[1][2]
dados_pib_brutos[1]
dados_pib_brutos[[1]]
dados_pib_brutos[[1]]$ano2015
dados_pib_brutos[[1]]
class(dados_pib_brutos[[1]])
for (i in dados_pib_brutos) {
for (j in dados_pib_brutos[[i]]) {
dados_pib_brutos[[i]]$ano2015 = as.numeric(dados_pib_brutos[[i]]$ano2015)
}
}
dados_pib_brutos[[1]][2]
dados_pib_brutos[[1]][2]
dados_pib_brutos[[1]][1]
dados_pib_brutos[[1]][2]
dados_pib_brutos[[1]][3]
dados_pib_brutos[[1]][4]
for (i in dados_pib_brutos) {
for (j in dados_pib_brutos[[i]]) {
if(i > 3){
dados_pib_brutos[[i]][j] = as.numeric(dados_pib_brutos[[i]][j])
}
}
}
i = 0
dados_pib_brutos[[i]]
i = 1
dados_pib_brutos[[i]]
for (i in dados_pib_brutos) {
for (j in dados_pib_brutos[[i]]) {
if(i > 3){
##dados_pib_brutos[[i]][j] = as.numeric(dados_pib_brutos[[i]][j])
}
}
}
for (i in lenght(dados_pib_brutos) {
for (i in lenght(dados_pib_brutos)) {
for (j in dados_pib_brutos[[i]]) {
if(i > 3){
##dados_pib_brutos[[i]][j] = as.numeric(dados_pib_brutos[[i]][j])
}
}
}
for (i in length(dados_pib_brutos)) {
for (j in dados_pib_brutos[[i]]) {
if(i > 3){
##dados_pib_brutos[[i]][j] = as.numeric(dados_pib_brutos[[i]][j])
}
}
}
for (i in length(dados_pib_brutos)) {
for (j in dados_pib_brutos[[i]]) {
if(i > 3){
dados_pib_brutos[[i]][j] = as.numeric(dados_pib_brutos[[i]][j])
}
}
}
for (i in length(dados_pib_brutos)) {
for (j in dados_pib_brutos[[i]]) {
if(i > 3){
dados_pib_brutos[[i]][j] = as.double(dados_pib_brutos[[i]][j])
}
}
}
as.double(dados_pib_brutos[[1]][5])
as.numeric(dados_pib_brutos[[1]][5])
for (i in length(dados_pib_brutos)) {
for (j in dados_pib_brutos[[i]]) {
if(j > 3){
dados_pib_brutos[[i]][j] = as.numeric(dados_pib_brutos[[i]][j])
}
}
}
as.numeric(dados_pib_brutos[[1]][3])
as.numeric(dados_pib_brutos[[1]][3])
as.numeric(dados_pib_brutos[[1]][4])
for (i in 2 {
for (i in 2) {
for (j in dados_pib_brutos[[i]]) {
if(j > 3){
as.numeric(dados_pib_brutos[[i]][j])
}
}
}
if(j > 4){
as.numeric(dados_pib_brutos[[i]][j])
}
for (i in 2) {
for (j in dados_pib_brutos[[i]]) {
if(j > 4){
as.numeric(dados_pib_brutos[[i]][j])
}
}
}
for (i in 2) {
for (j in dados_pib_brutos[[i]]) {
if(j > 4){
as.numeric(dados_pib_brutos[[i]][j])
}
}
}
dados_pib_brutos[[i]][j]
for (i in 2) {
for (j in dados_pib_brutos[[i]]) {
if(j > 4){
dados_pib_brutos[[i]][j]
}
}
}
for (i in 2) {
for (j in dados_pib_brutos[[i]]) {
if(j > 4){
print(dados_pib_brutos[[i]][j])
}
}
}
for (i in 2) {
for (j in dados_pib_brutos[[i]]) {
if(j > 4){
print(j)
print(dados_pib_brutos[[i]][j])
}
}
}
dados_pib_brutos[[2]][4]
dados_pib_brutos[[2]][4]
dados_pib_brutos[[2]][4][1]
dados_pib_brutos[[2]][5]
class(dados_pib_brutos[[2]][5])
dados_pib_brutos[[2]]
dados_pib_brutos[[2]][4]
dados_pib_brutos[[2]][4][0]
dados_pib_brutos[[2]][4][1]
dados_pib_brutos[[2]][4][2]
dados_pib_brutos[[2]][4][1]
for (i in 2) {
for (j in dados_pib_brutos[[i]]) {
if(j > 4){
print(j)
print(dados_pib_brutos[[i]][j][1])
}
}
}
for (i in 2) {
for (j in dados_pib_brutos[[i]]) {
if(j > 4){
print(dados_pib_brutos[[i]][j][1])
}
}
}
length(dados_pib_brutos[[2]])
for (i in 2) {
for (j in length(dados_pib_brutos[[i]])) {
if(j > 4){
print(dados_pib_brutos[[i]][j][1])
}
}
}
for (i in 2) {
for (j in length(dados_pib_brutos[[i]])) {
if(j > 4){
print(dados_pib_brutos[[i]][j])
}
}
}
for (i in 2) {
for (j in length(dados_pib_brutos[[i]])) {
print(j)
if(j > 4){
print(dados_pib_brutos[[i]][j])
}
}
}
for (i in 2) {
for (j in 1:length(dados_pib_brutos[[i]])) {
if(j > 4){
print(dados_pib_brutos[[i]][j])
}
}
}
for (j in 0:length(dados_pib_brutos[[i]])) {
if(j > 4){
print(dados_pib_brutos[[i]][j])
}
}
for (i in 2) {
for (j in 0:length(dados_pib_brutos[[i]])) {
if(j > 4){
print(dados_pib_brutos[[i]][j])
}
}
}
for (i in 2) {
for (j in 1:length(dados_pib_brutos[[i]])) {
if(j > 4){
dados_pib_brutos[[i]][j]$ano2011 <- as.numeric(dados_pib_brutos[[i]][j]$ano2011)
}
}
}
for (i in 2) {
for (j in 1:length(dados_pib_brutos[[i]])) {
if(j > 4){
print(dados_pib_brutos[[i]][j])
##dados_pib_brutos[[i]][j]$ano2011 <- as.numeric(dados_pib_brutos[[i]][j]$ano2011)
}
}
}
indice_inicial_valores <- 4;
for (i in 1:length(dados_pib_brutos)) {
for (j in 1:length(dados_pib_brutos[[i]])) {
if(j > indice_inicial_valores){
dados_pib_brutos[[i]][j]$ano2011 <- as.numeric(dados_pib_brutos[[i]][j]$ano2011)
dados_pib_brutos[[i]][j]$ano2012 <- as.numeric(dados_pib_brutos[[i]][j]$ano2012)
dados_pib_brutos[[i]][j]$ano2013 <- as.numeric(dados_pib_brutos[[i]][j]$ano2013)
dados_pib_brutos[[i]][j]$ano2014 <- as.numeric(dados_pib_brutos[[i]][j]$ano2014)
dados_pib_brutos[[i]][j]$ano2015 <- as.numeric(dados_pib_brutos[[i]][j]$ano2015)
dados_pib_brutos[[i]][j]$ano2016 <- as.numeric(dados_pib_brutos[[i]][j]$ano2016)
}
}
}
dados_pib_brutos[[2]][1]
dados_pib_brutos[[2]]
indice_inicial_valores <- 3;
for (i in 1:length(dados_pib_brutos)) {
for (j in 1:length(dados_pib_brutos[[i]])) {
if(j > indice_inicial_valores){
dados_pib_brutos[[i]][j]$ano2011 <- as.numeric(dados_pib_brutos[[i]][j]$ano2011)
dados_pib_brutos[[i]][j]$ano2012 <- as.numeric(dados_pib_brutos[[i]][j]$ano2012)
dados_pib_brutos[[i]][j]$ano2013 <- as.numeric(dados_pib_brutos[[i]][j]$ano2013)
dados_pib_brutos[[i]][j]$ano2014 <- as.numeric(dados_pib_brutos[[i]][j]$ano2014)
dados_pib_brutos[[i]][j]$ano2015 <- as.numeric(dados_pib_brutos[[i]][j]$ano2015)
dados_pib_brutos[[i]][j]$ano2016 <- as.numeric(dados_pib_brutos[[i]][j]$ano2016)
}
}
}
for (i in 1:length(dados_pib_brutos)) {
for (j in 1:length(dados_pib_brutos[[i]])) {
if(j > indice_inicial_valores){
dados_pib_brutos[[i]][j]$ano2010 <- as.numeric(dados_pib_brutos[[i]][j]$ano2010)
dados_pib_brutos[[i]][j]$ano2011 <- as.numeric(dados_pib_brutos[[i]][j]$ano2011)
dados_pib_brutos[[i]][j]$ano2012 <- as.numeric(dados_pib_brutos[[i]][j]$ano2012)
dados_pib_brutos[[i]][j]$ano2013 <- as.numeric(dados_pib_brutos[[i]][j]$ano2013)
dados_pib_brutos[[i]][j]$ano2014 <- as.numeric(dados_pib_brutos[[i]][j]$ano2014)
dados_pib_brutos[[i]][j]$ano2015 <- as.numeric(dados_pib_brutos[[i]][j]$ano2015)
dados_pib_brutos[[i]][j]$ano2016 <- as.numeric(dados_pib_brutos[[i]][j]$ano2016)
}
}
}
dados_pib_brutos[[1]]
